[alias]
	# git all: Run git commands across all subdirectories with .git folders
	# Usage: git all [directory] <git-command> [args...]
	# Examples:
	#   git all status
	#   git all pull
	#   git all ~/projects status
	all = "!git-all() { \
		target_dir=\".\"; \
		if [ -d \"$1\" ]; then \
			target_dir=\"$1\"; \
			shift; \
		fi; \
		if [ $# -eq 0 ]; then \
			printf \"%s\\n\" \"Usage: git all [directory] <git-command> [args...]\"; \
			return 1; \
		fi; \
		start_dir=$(pwd); \
		cd \"$target_dir\" || return 1; \
		for dir in */; do \
			if [ -d \"$dir/.git\" ]; then \
				printf \"📁 %s\\n\" \"$(basename \"$dir\")\"; \
				printf \"%s\\n\" \"────────────────────────────────\"; \
				(cd \"$dir\" && git \"$@\"); \
				printf \"\\n\"; \
			fi; \
		done; \
		cd \"$start_dir\"; \
	}; git-all \"$@\""
